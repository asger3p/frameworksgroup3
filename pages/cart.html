<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8"> <!-- character encoding-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <!-- ensures the page is responsive/ properly displayed on different devices -->
    
    <!-- Bootstrap CSS -->
    <link 
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
      rel="stylesheet" 
    />

    <!-- Bootstrap icons -->
    <link 
      rel="stylesheet" 
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
    />

    <!-- Link to external stylesheet for styling page: <link rel="stylesheet" href="css/styles.css"> -->
    <!-- Link to external js file: <script defer src="js/jsfile.js"></script>-->    
</head>

<body>
    <!-- Navbar -->
    <div id="navbar-container"></div>

    <!-- Greeting message -->
    <div class="container mt-4"> <!-- "container" controls the width and alignment, "mt-4" adds margin-top -->
        <h2 id="greeting">Your Cart</h2> 
    </div>


    <!-- NEEDS TO BE ALLIGNED WITH LOGIN CODE ... -->
    <!-- Load Navbar -->
    <script>
        fetch('navbar.html')
          .then(response => response.text())
          .then(data => {
          document.getElementById("navbar-container").innerHTML = data;
          const script = document.createElement("script");
          script.src = "navbar.js";
          document.body.appendChild(script);
        });
        
      // Function to retrieve the user's name from localStorage and display a personalized message when page is loaded
        // Retrieve stored username from local storage
        document.addEventListener('DOMContentLoaded', function() {
            const firstName = localStorage.getItem('userFirstName');
            const greetingElement = document.getElementById('greeting');

        // If userName exists, update message with personalized greeting
        if (firstName) {
          greetingElement.textContent = `Your cart, , ${firstName}?`;
        }else {
            greetingElement.textContent = "Your Cart";
        }

         // Call updateGreeting when page loads
        window.addEventListener('load', updateGreeting);
      });
    </script>


    <div class="container mt-4"> 
        <h3<>Overview of Items:</h3>
        
        <!-- Example item in cart -->
        <div class="row align-items-center border-bottom py-2">
            <div class="col-2"> <!-- takes 2 out of 12 columns -->
                <img src="images/curry/emu.jpg" alt="Item" class="img-fluid" style="max-width: 50px;"> <!-- "img-fluid" does image responsive -->
            </div>
            <div class="col-4">Curry</div> <!-- takes 4 out of 12 columns -->
            <div class="col-3 d-flex align-items-center">
                <button class="btn btn-sm btn-outline-secondary">-</button> <!-- "btn btn-sm btn-outline-secondary" is small, gray-bordered button -->
                <span class="mx-2">1</span> <!-- mx-2 is spacing -->
                <button class="btn btn-sm btn-outline-secondary">+</button>
            </div>
            <div class="col-2">100 kr</div>
            <div class="col-1">
                <button class="btn btn-sm btn-outline-danger">×</button> <!-- remove button: "btn btn-sm btn-outline-danger", means a small red button with a "×" -->
            </div>
        </div>

        <!-- Item two-->
        <div class="row align-items-center border-bottom py-2">
            <div class="col-2">
                <img src="images/garammasala/emu.jpg" alt="Item" class="img-fluid" style="max-width: 50px;">
            </div>
            <div class="col-4">Garam masala</div>
            <div class="col-3 d-flex align-items-center">
                <button class="btn btn-sm btn-outline-secondary">-</button>
                <span class="mx-2">1</span>
                <button class="btn btn-sm btn-outline-secondary">+</button>
            </div>
            <div class="col-2">120 kr</div>
            <div class="col-1">
                <button class="btn btn-sm btn-outline-danger">×</button>
            </div>
        </div>

    </div>

    <!-- Total price -->
    <div class="container mt-4 text-end"> <!-- text-end for right alignment-->
        <h4>Total Price: <span>200</span> kr</h4> <!-- Display subtotal amount dynamically based on cart items -->
    </div>
    
    <!-- Buttons: Continue Shopping & Checkout -->
    <div class="container mt-4 text-end" >
        <!-- Checkbox for agreeing to terms and conditions before proceeding to checkout -->
        <label class="container mt-4 text-end">
            <input type="checkbox" id="terms"> I agree with the <a href="#">terms and conditions</a>
        </label>
    </div>

    <div class="container mt-4 text-end">
        <button id="continueshopping">Continue shopping</button> 
        <button id="checkout">CHECKOUT</button> <!-- button triggers an event to validate terms acceptance before proceeding -->
    </div>


</body>
</html>
